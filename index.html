<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Stigee</title>
  <style>
    :root{
      --bg:#071428; --card:#0b1220; --accent:#7cc4ff; --muted:#9fb0c8;
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;background:linear-gradient(180deg,#04101b,#071428);color:#eaf4ff}
    .container{max-width:900px;margin:36px auto;padding:18px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:12px;box-shadow:0 10px 30px rgba(2,6,23,.7)}
    header{display:flex;align-items:center;gap:12px}
    .logo{font-weight:800;color:var(--accent);font-size:20px;letter-spacing:.6px}
    .desc{color:var(--muted);font-size:13px}
    .controls{display:flex;gap:8px;margin-top:14px}
    input[type=text]{flex:1;padding:12px 14px;border-radius:10px;border:1px solid rgba(255,255,255,0.04);background:rgba(255,255,255,0.02);color:inherit;font-size:15px;outline:none}
    input[type=text]:focus{box-shadow:0 4px 18px rgba(0,0,0,0.4)}
    button{padding:10px 14px;border-radius:10px;border:0;background:rgba(124,196,255,0.14);color:var(--accent);cursor:pointer;font-weight:600}
    button.primary{background:var(--accent);color:#022;box-shadow:0 6px 18px rgba(124,196,255,0.06)}
    .hints{margin-top:10px;color:var(--muted);font-size:13px}
    .mini{font-size:12px;color:var(--muted);margin-left:8px}
    footer{margin-top:18px;color:var(--muted);font-size:13px}
    .error{color:#ffb4b4;margin-top:8px;font-size:13px}
    .quick{display:flex;gap:8px;margin-top:10px}
    .chip{background:rgba(255,255,255,0.02);padding:6px 10px;border-radius:999px;border:1px solid rgba(255,255,255,0.03);cursor:pointer;font-size:13px}
  </style>
</head>
<body>
  <div class="container" role="application" aria-label="Stigee tiny browser">
    <header>
      <div>
        <div class="logo">stigee</div>
        <div class="desc"></div>
      </div>
    </header>

    <div class="controls" aria-hidden="false">
      <input id="address" type="text" placeholder="Enter website (e.g. example.com or https://example.com)" autocomplete="off" />
      <button id="go" class="primary" title="Open in same tab">Go</button>
      <button id="openNew" title="Open in new tab">Open ↗</button>
    </div>

    <div class="hints">
      <span class="mini">— Built without iframe</span>
    </div>

    <div class="quick" aria-hidden="false">
      <div class="chip" data-url="https://example.com">example.com</div>
      <div class="chip" data-url="https://news.google.com">news</div>
      <div class="chip" data-url="https://github.com">github</div>
      <div class="chip" data-url="https://wikipedia.org">wikipedia</div>
    </div>

    <div id="error" class="error" role="status" aria-live="polite" hidden></div>

    <footer>
      
    </footer>
  </div>

  <script>
    const addr = document.getElementById('address');
    const goBtn = document.getElementById('go');
    const openNewBtn = document.getElementById('openNew');
    const errorBox = document.getElementById('error');
    const chips = document.querySelectorAll('.chip');

    // Normalize input -> valid URL string (adds https:// if missing)
    function normalizeUrl(input) {
      if (!input) return null;
      input = input.trim();
      // if looks like search query (contains spaces) -> treat as search on duckduckgo
      if (/\s/.test(input)) {
        return 'https://duckduckgo.com/?q=' + encodeURIComponent(input);
      }
      // if already has a scheme
      if (/^[a-zA-Z][a-zA-Z\d+\-.]*:\/\//.test(input)) {
        return input;
      }
      // If looks like localhost or has dot-ish domain or port, add https://
      if (/^(localhost|[\w.-]+:\d+|[\w.-]+\.[a-zA-Z]{2,})/.test(input)) {
        return 'https://' + input;
      }
      // otherwise treat as search
      return 'https://duckduckgo.com/?q=' + encodeURIComponent(input);
    }

    function showError(msg) {
      errorBox.hidden = false;
      errorBox.textContent = msg;
      setTimeout(()=>{ errorBox.hidden = true; }, 4000);
    }

    function goTo(url, inNewTab = false) {
      if (!url) { showError('Please enter a website or search query.'); return; }
      try {
        const normalized = normalizeUrl(url);
        if (inNewTab) {
          window.open(normalized, '_blank', 'noopener');
        } else {
          // navigate same tab
          window.location.href = normalized;
        }
      } catch (e) {
        showError('Could not navigate to that address.');
        console.error(e);
      }
    }

    goBtn.addEventListener('click', ()=> goTo(addr.value, false));
    openNewBtn.addEventListener('click', ()=> goTo(addr.value, true));
    addr.addEventListener('keydown', (ev)=> {
      if (ev.key === 'Enter') {
        goTo(addr.value, false);
      }
    });

    chips.forEach(c => c.addEventListener('click', ()=> {
      const url = c.getAttribute('data-url');
      addr.value = url;
      // open in new tab for quick picks
      goTo(url, true);
    }));

    // Helpful: pre-focus
    addr.focus();
  </script>
</body>
</html>
